---
title: "Historyを使ってSvelteでルーターを作ってみる"
emoji: "🍁"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Svelte", "TypeScript"]
published: false
---

# はじめに

この記事は [Svelte Advent Calendar 2021](https://qiita.com/advent-calendar/2021/svelte) の 22 日目の記事です。筆者にとって本アドベントカレンダーでは 2 つ目の記事となります。

以前 Zenn でこんな記事が上がっていました。History というライブラリを使ってみて react-router クローンを作ってみようという記事になります。

https://zenn.dev/stin/articles/how-to-develop-react-router

この記事を読んでいて、History 自体フレームワーク依存じゃなさそうだし、もしかしたら Svelte でも適用できるのでは？と思い、本記事を執筆することにしました。

# Svelte のルーター事情

:::message warning
本節の内容は 2021/12 現在のものです。
:::

Svelte の公式サイトには、ルーターに関する Q&A が記載されています。

https://svelte.dev/faq#is-there-a-router

公式から現状提供されているのは SvelteKit のみとなります。

https://kit.svelte.dev/

そのため、SvelteKit を使わない Svelte アプリの場合、外部ライブラリを使用することになります。
GitHub のスター数だと、以下のライブラリが有力です。

## svelte-spa-router

Single-Page App (SPA) アプローチのルーターライブラリとなります。

https://github.com/ItalyPaleAle/svelte-spa-router

ちなみに、本ライブラリの作者である Alessandro Segala 氏は[Svelte 3 Up and Running](https://www.amazon.co.jp/dp/B08D6T6BKS)という本も執筆されています。日本の Amazon からも購入可能です。なお筆者はまだ読めてません…来年こそは…。

また、@azukiazusa さんの Book にも本ライブラリを使った実装方法が記載されているので、要チェックです（Svelte 興味あるけど全くやったことない人もぜひ）。

https://zenn.dev/azukiazusa/books/9dac1257c77f47

## Routify

こちらは SvelteKit や Next.js アプローチのルーターライブラリとなります。
筆者はまだ使ったことがないのですが、公式ドキュメントもしっかりしており、いつか試したいと思っています。
現在ベータ版になっている version3 では Navigation Guards 機能の追加などさらに強化されており、今後の発展がです。

https://www.routify.dev/

# History について

詳しい使い方や概要は[元ネタ記事](https://zenn.dev/stin/articles/how-to-develop-react-router#history-%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6)を参照してください。

また英語になりますが、ライブラリのリポジトリの `docs` ディレクトリにも説明が詳しく掲載されています。
`getting-started` や `api-reference` は特に読んでおくといいです。
https://github.com/remix-run/history/tree/main/docs

なお、ソースコード自体は公式にも very small と表記されているとおり、かなり小さいです。
そのため、すぐコードを追うことも可能です。ソースコード本体はこちら。

https://github.com/remix-run/history/tree/main/packages/history
